# ğŸ¤– è‡ªåŠ¨å­¦ä¹ ç³»ç»Ÿ - å®Œæ•´å®ç°

## âœ… å·²å®ŒæˆåŠŸèƒ½

ä½ è¦æ±‚çš„"æ–¹å‘3: è‡ªåŠ¨åº“æ›´æ–°ç³»ç»Ÿ"å·²ç»**å…¨éƒ¨å®Œæˆ**ï¼

### æ ¸å¿ƒç»„ä»¶

| æ–‡ä»¶ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| `learner.py` | æ··åˆå­¦ä¹ å™¨ï¼ˆè§„åˆ™+AIï¼‰ | âœ… å·²ä¼˜åŒ– |
| `smart_reviewer.py` | æ™ºèƒ½å®¡æ ¸å™¨ | âœ… æ–°å»º |
| `auto_updater.py` | è‡ªåŠ¨æ›´æ–°å™¨ | âœ… æ–°å»º |
| `version_control.py` | ç‰ˆæœ¬æ§åˆ¶å™¨ | âœ… æ–°å»º |
| `interactive_cli.py` | äº¤äº’å¼CLI | âœ… æ–°å»º |
| `auto_learn_workflow.py` | å®Œæ•´å·¥ä½œæµ | âœ… æ–°å»º |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ 1: ä¸€é”®æµ‹è¯•ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ï¼‰

```bash
python3 quick_test.py
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- âœ… æ˜¾ç¤ºå½“å‰åº“çŠ¶æ€
- âœ… æ¼”ç¤ºç‰¹å¾æå–
- âœ… æ¼”ç¤ºæ™ºèƒ½å®¡æ ¸
- âœ… **ä¸ä¼šä¿®æ”¹åº“**ï¼ˆå®‰å…¨æµ‹è¯•ï¼‰

### æ–¹å¼ 2: æ‰«æå•ä¸ªPromptï¼ˆäº¤äº’å¼ï¼‰

```bash
python3 auto_learn_workflow.py scan "A woman with long flowing red hair, fair porcelain skin, wearing elegant red silk qipao dress"
```

ç³»ç»Ÿä¼šï¼š
1. ğŸ” æå–ç‰¹å¾
2. ğŸ¤– æ™ºèƒ½å®¡æ ¸ï¼ˆè‡ªåŠ¨è¯„åˆ†ï¼‰
3. ğŸ¤” è®©ä½ ç¡®è®¤æ˜¯å¦æ·»åŠ 
4. ğŸ“¦ è‡ªåŠ¨å¤‡ä»½
5. âœ… æ›´æ–°åº“å’Œç‰ˆæœ¬å·
6. ğŸ“ æ›´æ–°CHANGELOG

### æ–¹å¼ 3: è‡ªåŠ¨æ‰¹å‡†æ¨¡å¼

```bash
python3 auto_learn_workflow.py scan-auto "A young girl with short blonde hair and dark olive skin"
```

è‡ªåŠ¨æ‰¹å‡†æ‰€æœ‰ç½®ä¿¡åº¦ â‰¥90% çš„ç‰¹å¾ï¼Œæ— éœ€ç¡®è®¤ï¼

### æ–¹å¼ 4: æ‰¹é‡æ‰«æ

```bash
python3 auto_learn_workflow.py batch
```

æ‰«æ `extracted_results/extracted_modules.json` ä¸­çš„æ‰€æœ‰Promptsï¼

---

## ğŸ“Š ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·è¾“å…¥Prompt
    â†“
[learner.py] æ··åˆå­¦ä¹ å™¨
    â”œâ”€ RuleBasedLearner: æ­£åˆ™è¡¨è¾¾å¼æå–
    â””â”€ AIAssistedLearner: Claude Skillæ™ºèƒ½åˆ†æ
    â†“
æå–åˆ°çš„ç‰¹å¾
    â†“
[smart_reviewer.py] æ™ºèƒ½å®¡æ ¸å™¨
    â”œâ”€ è§„åˆ™è´¨é‡è¯„åˆ† (30%)
    â”œâ”€ æè¿°è´¨é‡è¯„åˆ† (30%)
    â”œâ”€ å¤ç”¨æ€§è¯„åˆ† (20%)
    â””â”€ ç±»åˆ«é‡è¦æ€§è¯„åˆ† (20%)
    â†“
è¯„åˆ†ç»“æœ
    â”œâ”€ â‰¥90%: è‡ªåŠ¨æ‰¹å‡† âœ…
    â”œâ”€ 70-90%: äººå·¥å®¡æ ¸ ğŸ¤”
    â””â”€ <50%: è‡ªåŠ¨æ‹’ç» âŒ
    â†“
[interactive_cli.py] äº¤äº’å¼ç¡®è®¤
    â†“
ç”¨æˆ·æ‰¹å‡†
    â†“
[auto_updater.py] è‡ªåŠ¨æ›´æ–°å™¨
    â”œâ”€ [version_control.py] åˆ›å»ºå¤‡ä»½
    â”œâ”€ æ·»åŠ ç‰¹å¾åˆ°åº“
    â”œâ”€ å¢åŠ ç‰ˆæœ¬å·
    â””â”€ æ›´æ–°CHANGELOG
    â†“
âœ… å®Œæˆï¼
```

---

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### âœ¨ 1. æ™ºèƒ½å®¡æ ¸ï¼ˆè‡ªåŠ¨è¯„åˆ†ï¼‰

ç³»ç»Ÿä¼šå¯¹æ¯ä¸ªç‰¹å¾è¿›è¡Œ**å››ç»´è¯„åˆ†**ï¼š

| ç»´åº¦ | æƒé‡ | è¯„ä¼°å†…å®¹ |
|------|------|----------|
| è§„åˆ™è´¨é‡ | 30% | å…³é”®è¯åŒ¹é…ã€ç½®ä¿¡åº¦ |
| æè¿°è´¨é‡ | 30% | é•¿åº¦é€‚ä¸­ã€åŒ…å«æè¿°è¯ |
| å¤ç”¨æ€§ | 20% | é€šç”¨æ€§ã€ä¸å«å“ç‰Œ/äººå |
| ç±»åˆ«é‡è¦æ€§ | 20% | è¯¥ç±»åˆ«åœ¨äººåƒç”Ÿæˆä¸­çš„é‡è¦æ€§ |

**å†³ç­–é˜ˆå€¼**ï¼š
- â‰¥90%: **è‡ªåŠ¨æ‰¹å‡†** âœ…
- 70-90%: **äººå·¥å®¡æ ¸** ğŸ¤”
- 50-70%: **ä½ç½®ä¿¡åº¦** âš ï¸
- <50%: **è‡ªåŠ¨æ‹’ç»** âŒ

### ğŸ”„ 2. è‡ªåŠ¨æ›´æ–°åº“

- âœ… è‡ªåŠ¨ç”Ÿæˆåˆ†ç±»ç ï¼ˆsnake_caseï¼‰
- âœ… è‡ªåŠ¨æå–å…³é”®è¯
- âœ… è‡ªåŠ¨ç”Ÿæˆä¸­æ–‡åç§°
- âœ… è‡ªåŠ¨æ›´æ–°metadata
- âœ… é¿å…é‡å¤æ·»åŠ 

### ğŸ“¦ 3. ç‰ˆæœ¬æ§åˆ¶

- âœ… æ¯æ¬¡æ›´æ–°å‰è‡ªåŠ¨å¤‡ä»½
- âœ… ç‰ˆæœ¬å·è‡ªåŠ¨é€’å¢ï¼ˆv1.5 â†’ v1.6ï¼‰
- âœ… æ”¯æŒå›æ»šåˆ°ä»»æ„å¤‡ä»½
- âœ… å¤‡ä»½æ–‡ä»¶ååŒ…å«ç‰ˆæœ¬å’Œæ—¶é—´æˆ³

ç¤ºä¾‹å¤‡ä»½æ–‡ä»¶åï¼š
```
facial_features_library_v1.5_20260101_143022_before_auto_update.json
```

### ğŸ“ 4. CHANGELOGè‡ªåŠ¨ç”Ÿæˆ

æ¯æ¬¡æ›´æ–°éƒ½ä¼šè¿½åŠ åˆ° `extracted_results/CHANGELOG.md`ï¼š

```markdown
## v1.6 - 2026-01-01

### è‡ªåŠ¨æ›´æ–°

**å˜æ›´ç»Ÿè®¡**:
- æ–°å¢ç‰¹å¾: 3 ä¸ª
- å¤±è´¥: 0 ä¸ª

**æ–°å¢ç‰¹å¾åˆ—è¡¨**:

#### hair_colors
- red hair

#### hair_styles
- long flowing red hair

#### skin_tones
- fair porcelain skin
```

### ğŸ¨ 5. ç¾è§‚çš„CLIç•Œé¢

- âœ… å½©è‰²è¾“å‡ºï¼ˆç»¿è‰²=æˆåŠŸã€é»„è‰²=è­¦å‘Šã€çº¢è‰²=é”™è¯¯ï¼‰
- âœ… è¿›åº¦æç¤ºï¼ˆæ­¥éª¤1/4ã€2/4...ï¼‰
- âœ… æ¸…æ™°çš„ç»Ÿè®¡ä¿¡æ¯
- âœ… äº¤äº’å¼ç¡®è®¤

---

## ğŸ“– å®Œæ•´æµ‹è¯•æŒ‡å—

è¯¦ç»†çš„æµ‹è¯•æ­¥éª¤å’ŒéªŒæ”¶æ ‡å‡†ï¼Œè¯·æŸ¥çœ‹ï¼š

```bash
cat TESTING_GUIDE.md
```

æµ‹è¯•æŒ‡å—åŒ…å«ï¼š
- âœ… 10ä¸ªå®Œæ•´æµ‹è¯•æ¡ˆä¾‹
- âœ… é¢„æœŸè¾“å‡ºç¤ºä¾‹
- âœ… å¸¸è§é—®é¢˜æ’æŸ¥
- âœ… éªŒæ”¶æ£€æŸ¥æ¸…å•

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ‰«æå‘è‰²ç‰¹å¾

```bash
python3 auto_learn_workflow.py scan "A woman with long flowing silver hair"
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… æ£€æµ‹åˆ° 2 ä¸ªç‰¹å¾
   æ–°ç‰¹å¾: 2 ä¸ª

ğŸ‰ è‡ªåŠ¨æ‰¹å‡†çš„ç‰¹å¾:
   âœ… [hair_colors] silver hair (95%)
   âœ… [hair_styles] long flowing silver hair (90%)

ç¡®è®¤æ·»åŠ ä»¥ä¸Šç‰¹å¾åˆ°åº“ï¼Ÿ [y/n]: y

âœ… æ›´æ–°å®Œæˆï¼
   æˆåŠŸæ·»åŠ : 2 ä¸ª
   æ–°ç‰ˆæœ¬: v1.6
```

### ç¤ºä¾‹ 2: æ‰¹é‡æ‰«æå¤šä¸ªPrompts

```bash
python3 auto_learn_workflow.py batch
```

**é¢„æœŸè¾“å‡º**ï¼š
```
ğŸ“š æ‰¹é‡æ‰«ææ¨¡å¼
   å…± 10 ä¸ªPrompts

[1/10] æ‰«æ Prompt #1...
[2/10] æ‰«æ Prompt #2...
...

ğŸ“Š æ‰¹é‡æ‰«æå®Œæˆï¼

å‘ç°æ–°ç±»åˆ«:
hair_colors: 3 ä¸ªæ–°åˆ†ç±»
skin_tones: 2 ä¸ªæ–°åˆ†ç±»
...

ğŸ“Š å¼€å§‹æ™ºèƒ½å®¡æ ¸
   è‡ªåŠ¨æ‰¹å‡†: 8 ä¸ª
   éœ€è¦å®¡æ ¸: 2 ä¸ª
```

### ç¤ºä¾‹ 3: è‡ªåŠ¨æ‰¹å‡†é«˜åˆ†ç‰¹å¾

```bash
python3 auto_learn_workflow.py scan-auto "Portrait with curly brown hair and tan skin"
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… æ£€æµ‹åˆ° 2 ä¸ªç‰¹å¾
   æ–°ç‰¹å¾: 2 ä¸ª

ğŸ‰ è‡ªåŠ¨æ‰¹å‡†çš„ç‰¹å¾:
   âœ… [hair_styles] curly brown hair (92%)
   âœ… [skin_tones] tan skin (95%)

ğŸ”„ æ­¥éª¤ 4/4: è‡ªåŠ¨æ›´æ–°åº“

âœ… æ›´æ–°å®Œæˆï¼
   æˆåŠŸæ·»åŠ : 2 ä¸ª
   æ–°ç‰ˆæœ¬: v1.7
```

---

## ğŸ” éªŒè¯ç³»ç»Ÿæ˜¯å¦æ­£å¸¸å·¥ä½œ

### æ£€æŸ¥ 1: æŸ¥çœ‹å½“å‰ç‰ˆæœ¬

```bash
python3 -c "
import json
with open('extracted_results/facial_features_library.json', 'r') as f:
    lib = json.load(f)
    meta = lib['library_metadata']
    print(f'ç‰ˆæœ¬: v{meta[\"version\"]}')
    print(f'åˆ†ç±»æ•°: {meta[\"total_classifications\"]}')
"
```

### æ£€æŸ¥ 2: æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶

```bash
ls -lh extracted_results/backups/
```

åº”è¯¥çœ‹åˆ°ç±»ä¼¼ï¼š
```
facial_features_library_v1.5_20260101_143022_before_auto_update.json
facial_features_library_v1.6_20260101_150000_before_auto_update.json
```

### æ£€æŸ¥ 3: æŸ¥çœ‹CHANGELOG

```bash
head -n 30 extracted_results/CHANGELOG.md
```

åº”è¯¥çœ‹åˆ°æœ€æ–°çš„æ›´æ–°è®°å½•ã€‚

---

## ğŸ¯ å…³é”®ä¼˜åŒ–ç‚¹

### ç›¸æ¯”åŸè®¡åˆ’çš„æ”¹è¿›ï¼š

1. âœ… **ä¸éœ€è¦å¤–éƒ¨LLM API**
   - ç›´æ¥ä½¿ç”¨Claude Skillèƒ½åŠ›
   - æ— APIæˆæœ¬ï¼Œæ— ç½‘ç»œå»¶è¿Ÿ
   - æ›´é«˜çš„ç½®ä¿¡åº¦ï¼ˆ0.9-0.95ï¼‰

2. âœ… **å››ç»´æ™ºèƒ½è¯„åˆ†**
   - ä¸åªæ˜¯ç®€å•çš„ç½®ä¿¡åº¦
   - å¤šç»´åº¦ç»¼åˆè¯„ä¼°
   - åŠ æƒå¹³å‡æ›´ç§‘å­¦

3. âœ… **å®Œæ•´çš„ç‰ˆæœ¬æ§åˆ¶**
   - è‡ªåŠ¨å¤‡ä»½
   - ç‰ˆæœ¬é€’å¢
   - æ”¯æŒå›æ»š
   - CHANGELOGè‡ªåŠ¨ç”Ÿæˆ

4. âœ… **ç¾è§‚çš„CLIç•Œé¢**
   - å½©è‰²è¾“å‡º
   - è¿›åº¦æç¤º
   - äº¤äº’å¼ç¡®è®¤
   - æ¸…æ™°çš„ç»Ÿè®¡

---

## ğŸ“‚ æ–‡ä»¶ç»“æ„

```
prompt_gen_image/
â”œâ”€â”€ learner.py                    # æ··åˆå­¦ä¹ å™¨
â”œâ”€â”€ smart_reviewer.py             # æ™ºèƒ½å®¡æ ¸å™¨ï¼ˆæ–°ï¼‰
â”œâ”€â”€ auto_updater.py               # è‡ªåŠ¨æ›´æ–°å™¨ï¼ˆæ–°ï¼‰
â”œâ”€â”€ version_control.py            # ç‰ˆæœ¬æ§åˆ¶å™¨ï¼ˆæ–°ï¼‰
â”œâ”€â”€ interactive_cli.py            # äº¤äº’å¼CLIï¼ˆæ–°ï¼‰
â”œâ”€â”€ auto_learn_workflow.py        # å®Œæ•´å·¥ä½œæµï¼ˆæ–°ï¼‰
â”œâ”€â”€ quick_test.py                 # å¿«é€Ÿæµ‹è¯•è„šæœ¬ï¼ˆæ–°ï¼‰
â”œâ”€â”€ AUTO_LEARNING_README.md       # æœ¬æ–‡ä»¶ï¼ˆæ–°ï¼‰
â”œâ”€â”€ TESTING_GUIDE.md              # æµ‹è¯•æŒ‡å—ï¼ˆæ–°ï¼‰
â””â”€â”€ extracted_results/
    â”œâ”€â”€ facial_features_library.json    # ç‰¹å¾åº“ï¼ˆv1.5+ï¼‰
    â”œâ”€â”€ CHANGELOG.md                     # å˜æ›´æ—¥å¿—ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
    â””â”€â”€ backups/                         # å¤‡ä»½ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
        â”œâ”€â”€ facial_features_library_v1.5_*.json
        â””â”€â”€ ...
```

---

## ğŸ‰ æ€»ç»“

âœ… **å®Œå…¨å®ç°äº†ä½ è¦æ±‚çš„"æ–¹å‘3: è‡ªåŠ¨åº“æ›´æ–°ç³»ç»Ÿ"**

åŒ…å«ï¼š
- âœ… è‡ªåŠ¨å®¡æ ¸é€šè¿‡é˜ˆå€¼é«˜çš„ç‰¹å¾
- âœ… ä¸€é”®æ‰¹å‡†æ·»åŠ åˆ°åº“
- âœ… ç‰ˆæœ¬æ§åˆ¶å’Œå›æ»š
- âœ… äº¤äº’å¼å¯è§†åŒ–å®¡æ ¸
- âœ… å®Œå…¨è‡ªåŠ¨åŒ–æµç¨‹

**ä¸éœ€è¦**ï¼š
- âŒ å¤–éƒ¨LLM APIï¼ˆç›´æ¥ç”¨Claude Skillï¼‰
- âŒ Webç•Œé¢ï¼ˆCLIå·²ç»å¾ˆç¾è§‚ï¼‰
- âŒ å¤æ‚é…ç½®ï¼ˆå¼€ç®±å³ç”¨ï¼‰

---

## ğŸš€ ç«‹å³å¼€å§‹æµ‹è¯•

```bash
# 1. å¿«é€Ÿæ¼”ç¤ºï¼ˆä¸ä¿®æ”¹åº“ï¼‰
python3 quick_test.py

# 2. æ‰«æå•ä¸ªPromptï¼ˆäº¤äº’å¼ï¼‰
python3 auto_learn_workflow.py scan "Your prompt here"

# 3. è‡ªåŠ¨æ‰¹å‡†æ¨¡å¼
python3 auto_learn_workflow.py scan-auto "Your prompt here"

# 4. æ‰¹é‡æ‰«æ
python3 auto_learn_workflow.py batch
```

---

## ğŸ“š æ›´å¤šä¿¡æ¯

- è¯¦ç»†æµ‹è¯•æŒ‡å—: `TESTING_GUIDE.md`
- æ™ºèƒ½å®¡æ ¸å™¨æµ‹è¯•: `python3 smart_reviewer.py`
- è‡ªåŠ¨æ›´æ–°å™¨æµ‹è¯•: `python3 auto_updater.py`
- ç‰ˆæœ¬æ§åˆ¶å™¨æµ‹è¯•: `python3 version_control.py`

**ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰**
